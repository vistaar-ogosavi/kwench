{% include 'LS_5906464808_global' %} <script type="text/javascript"> if( typeof LS === "object") { LS.product['{{product.handle}}'] = { variants: {}, metafields: {{ product.metafields.langshop | json }}, original: {{ product | json }}, locale: function () { var defaultLang = '{{ LS_5906464808_default_lang }}', currentLang = '{{ LS_5906464808_lang }}'; if( defaultLang === currentLang) { return this.original; } if( this.metafields && Object.keys(this.metafields).length !== 0 ) { if( currentLang + '_title' in this.metafields ) { this.original.title = this.metafields[currentLang + '_title']; } if( currentLang + '_body_html' in this.metafields ) { this.original.content = this.metafields[currentLang + '_body_html']; this.original.description = this.metafields[currentLang + '_body_html']; } if( currentLang + '_option1' in this.metafields && 'options' in this.original ) { if( typeof this.original.options[0] !== 'undefined' ) { this.original.options[0] = this.metafields[currentLang + '_option1']; } } if( currentLang + '_option2' in this.metafields && 'options' in this.original ) { if( typeof this.original.options[1] !== 'undefined' ) { this.original.options[1] = this.metafields[currentLang + '_option2']; } } if( currentLang + '_option3' in this.metafields && 'options' in this.original ) { if( typeof this.original.options[2] !== 'undefined' ) { this.original.options[2] = this.metafields[currentLang + '_option3']; } } } if( this.variants && Object.keys(this.variants).length !== 0 && ! document.querySelector('.swatch') ) { for( var i = 0; i < this.original.variants.length; i++ ) { if( this.original.variants[i].id in this.variants ) { if( this.original.variants[i].option1 !== null && currentLang + '_variant_option1' in this.variants[this.original.variants[i].id] ) { this.original.variants[i].option1 = this.variants[this.original.variants[i].id][currentLang + '_variant_option1']; this.original.variants[i].options[0] = this.variants[this.original.variants[i].id][currentLang + '_variant_option1']; } if( this.original.variants[i].option2 !== null && currentLang + '_variant_option2' in this.variants[this.original.variants[i].id] ) { this.original.variants[i].option2 = this.variants[this.original.variants[i].id][currentLang + '_variant_option2']; this.original.variants[i].options[1] = this.variants[this.original.variants[i].id][currentLang + '_variant_option2']; } if( this.original.variants[i].option3 !== null && currentLang + '_variant_option3' in this.variants[this.original.variants[i].id] ) { this.original.variants[i].option3 = this.variants[this.original.variants[i].id][currentLang + '_variant_option3']; this.original.variants[i].options[2] = this.variants[this.original.variants[i].id][currentLang + '_variant_option3']; } } } } return this.original; } }; {% for variant in product.variants %} LS.product['{{product.handle}}'].variants[ {{ variant.id }} ] = {{ variant.metafields.langshop | json }}; {% endfor %} } </script>