!function(){function a(){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE&&a.response&&"object"==typeof a.response&&a.response.hasOwnProperty("items")){var c=a.response;!l&&c.attributes&&c.attributes.hasOwnProperty("LS_language")&&c.attributes.LS_language!==Shopify.Checkout.locale?(k.set("locale",c.attributes.LS_language),window.location.search="?"+k.toString()):b(c.items)}},a.open("GET","/cart.js",!0),a.responseType="json",a.send(null)}function b(a){if("undefined"==typeof Promise)return void console.warn("LangShop: Promise not supported.");if(a.length){var b=[];a.forEach(function(a){!function(a){b.push(new Promise(function(b,c){var d="ls-cached-product-"+a.product_id,e=sessionStorage.getItem(d);if(e)try{var g=JSON.parse(e);if(g&&g.hasOwnProperty("id"))return f[a.product_id]=g,void b(!0)}catch(j){}var h="/search?view=ls_product&q="+a.handle,i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status&&i.response&&"object"==typeof i.response&&i.response.hasOwnProperty("status")&&!0===i.response.status?(f[a.product_id]=i.response.product,sessionStorage.setItem(d,JSON.stringify(f[a.product_id])),b(!0)):c("LangShop: Error on product translation request."))},i.open("GET",h,!0),i.responseType="json",i.send(null)}))}(a)}),Promise.all(b).then(function(){d(),c()}).catch(function(a){console.warn(a)})}}function c(){var a=window.MutationObserver||window.WebKitMutationObserver,b=document.querySelector(h),c={subtree:!0,characterData:!0,childList:!0};if(!b)return void console.warn('LangShop: "'+h+'" selector not found for init mutation listener.');new a(function(a,e){e.disconnect(),d(),e.observe(b,c)}).observe(b,c)}function d(){var a=document.querySelectorAll(h+" [data-product-id]");a.length&&[].forEach.call(a,function(a){var b=a.getAttribute("data-product-id"),c=a.getAttribute("data-variant-id"),d=a.querySelector(i),f=a.querySelector(j);if(!b&&!c)return void console.warn("LangShop: Product ID or variant ID is not found in product element.");if(!d)return void console.warn('LangShop: "'+i+'" selector not found for product translation.');var g=e(b);if(!g)return void console.warn('LangShop: Product object not found for product id "'+b+'".');if(d.textContent=g.title,f){var h=g.variants.map(function(a){return a.id}).indexOf(parseInt(c,10));if(-1===h)return;var k=g.variants[h];if(1===k.options.length&&"Default Title"===k.options[0])return;f.textContent=k.options.join(" / ")}})}function e(a){return f.hasOwnProperty(a)?f[a]:null}if("undefined"==typeof Shopify||!Shopify.hasOwnProperty("Checkout"))return void console.warn('LangShop: "Shopify" object is undefined or does not contain "Checkout" property.');var f={},g=["contact_information","shipping_method","payment_method","thank_you"],h=".product-table",i=".product__description__name",j=".product__description__variant",k=new URLSearchParams(window.location.search),l=k.get("locale");(-1!==g.indexOf(Shopify.Checkout.step)||/^[\/][\d]+?[\/]orders[\/]/.test(window.location.pathname))&&a()}();