{% layout none %}{% assign ls_default_lang = shop.metafields.langshop['lang_default'] %}{% assign ls_langs_meta = shop.metafields.langshop["lang_list"] %}{% assign ls_lags_str = "" %}{% if ls_langs_meta != blank and ls_default_lang != blank %}{% assign ls_split = ls_langs_meta | split: '"lang_id":"' %}{% for lang_str in ls_split offset:1 %}{% assign ls_lang = lang_str | split: '","lang_title"' | first %}{% if ls_lang != ls_default_lang %}{% assign ls_lags_str = ls_lags_str | append: "," | append: ls_lang %}{% endif %}{% endfor %}{% assign ls_lags = ls_lags_str | remove_first: "," | split: "," %}{% endif %}{% capture ls_navigation_data %}{%- include 'LS_5906464808_navigation_data' -%}{% endcapture %}{ "navigations": [ {% if ls_navigation_data != blank %}{% capture navigations_json %}{%- assign ls_navigation_translate_objects = ls_navigation_data | split: ":ELEMENT:" -%}{% for ls_navigation_translate_object in ls_navigation_translate_objects %}{% assign ls_navigation = ls_navigation_translate_object | split: ":TRANSLATED:" %} ,{ "translations"	: { {% assign size = ls_navigation | size %}{% if size == 2 and ls_navigation[1] != blank %}{% for lang in ls_lags %}{% capture lang_split %}{{lang}}:TEXT:{% endcapture %}{% assign ls_navigation_last = ls_navigation | last | append: " "%}{% if ls_navigation_last contains lang_split %}{% assign ls_navigation_tmp = ls_navigation_last | split: lang_split | last %}{% assign text = ls_navigation_tmp | split: ":LANG:" | first | strip %} "{{ lang }}": {% if text != blank %}true{% else %}false{% endif %}{% if forloop.last == false %},{% endif %}{% else %} "{{ lang }}": false{% if forloop.last == false %},{% endif %}{% endif %}{% endfor %}{% else %}{% for lang in ls_lags %} "{{ lang }}": false{% if forloop.last == false %},{% endif %}{% endfor %}{% endif %} } } {% endfor %}{% endcapture %}{% assign navigations_json = navigations_json | remove_first: "," %} {{ navigations_json }} {% endif %}] }